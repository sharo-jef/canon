<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: {
                            950: '#0a0b0f',
                            900: '#0f1419',
                            850: '#191d25',
                            800: '#24292e',
                            700: '#374151',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace; }
        .highlight { background-color: #0366d6 !important; color: #ffffff !important; }
        .dark .highlight { background-color: #1f6feb !important; color: #ffffff !important; }
    </style>
</head>
<body class="h-full bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-gray-100">
    <div class="min-h-screen">
        <!-- Ultra Minimal Header -->
        <header class="bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800">
            <div class="max-w-full px-3 py-2">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <h1 class="text-sm font-medium text-gray-900 dark:text-white">Canon</h1>
                        <nav class="flex">
                            <a href="index.html" class="bg-gray-900 dark:bg-gray-700 text-white px-2 py-1 text-xs">AST</a>
                            <a href="hierarchy.html" class="bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 text-xs hover:bg-gray-400 dark:hover:bg-gray-500">Hierarchy</a>
                        </nav>
                    </div>
                    <button onclick="toggleTheme()" class="p-1 text-gray-600 dark:text-gray-300">
                        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                            <path class="dark:hidden" d="M10 2l2 6h6l-5 4 2 6-5-4-5 4 2-6-5-4h6l2-6z"/>
                            <path class="hidden dark:block" d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>
        
        <div class="max-w-full px-3 py-2">
            <!-- Ultra Compact Controls -->
            <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-2 mb-2">
                <div class="flex items-center gap-2 text-xs">
                    <input 
                        type="text" 
                        id="search-input" 
                        class="flex-1 px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400" 
                        placeholder="Search..." 
                    />
                    <div class="flex gap-1">
                        <button onclick="expandAll()" class="bg-gray-800 dark:bg-gray-700 text-white px-2 py-1 text-xs">+</button>
                        <button onclick="collapseAll()" class="bg-gray-800 dark:bg-gray-700 text-white px-2 py-1 text-xs">-</button>
                        <button onclick="expandToLevel(2)" class="bg-gray-600 dark:bg-gray-600 text-white px-2 py-1 text-xs">2</button>
                        <button onclick="expandToLevel(3)" class="bg-gray-600 dark:bg-gray-600 text-white px-2 py-1 text-xs">3</button>
                    </div>
                    <div id="stats-content" class="text-xs text-gray-600 dark:text-gray-400"></div>
                </div>
            </div>

            <!-- AST Tree -->
            <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800">
                <div class="bg-gray-100 dark:bg-gray-850 px-3 py-1 border-b border-gray-200 dark:border-gray-800">
                    <h2 class="text-xs font-medium text-gray-900 dark:text-white">AST</h2>
                </div>
                <div class="ast-tree p-2 overflow-x-auto max-h-screen overflow-y-auto">
                    <div id="ast-root"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 " id="ast-node-1751676386993-pllga4fdq" onclick="toggleASTNode('ast-node-1751676386993-pllga4fdq')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Program</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386993-pllga4fdq-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386993-9dl39arac" onclick="toggleASTNode('ast-node-1751676386993-9dl39arac')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaDirective</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">schema: canon::schema</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386993-3uxrvkwxg" onclick="toggleASTNode('ast-node-1751676386993-3uxrvkwxg')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaDefinition</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386993-3uxrvkwxg-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386993-7hpnbx7lp" onclick="toggleASTNode('ast-node-1751676386993-7hpnbx7lp')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data1, dataType: data, multiple: false, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386993-7hpnbx7lp-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386993-fsltmdjlk" onclick="toggleASTNode('ast-node-1751676386993-fsltmdjlk')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;hoge&quot;</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386993-ntakijewm" onclick="toggleASTNode('ast-node-1751676386993-ntakijewm')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: data</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386993-t812763q8" onclick="toggleASTNode('ast-node-1751676386993-t812763q8')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data2, dataType: data2, multiple: true, required: false</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386993-t812763q8-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386993-svfmpd9h1" onclick="toggleASTNode('ast-node-1751676386993-svfmpd9h1')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;fuga&quot;</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386993-xitu1h40d" onclick="toggleASTNode('ast-node-1751676386993-xitu1h40d')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: data2</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386993-q65vpfqrp" onclick="toggleASTNode('ast-node-1751676386993-q65vpfqrp')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data3, dataType: data2, multiple: false, required: false</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386993-q65vpfqrp-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386993-dxkae5cgv" onclick="toggleASTNode('ast-node-1751676386993-dxkae5cgv')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: data2</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-7nqxgerul" onclick="toggleASTNode('ast-node-1751676386994-7nqxgerul')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data4, dataType: data2, multiple: true, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-7nqxgerul-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-kaoyfg47f" onclick="toggleASTNode('ast-node-1751676386994-kaoyfg47f')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: data2</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-kiz50xob5" onclick="toggleASTNode('ast-node-1751676386994-kiz50xob5')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">SchemaMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data5, dataType: d, multiple: false, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-kiz50xob5-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-4thk0pstq" onclick="toggleASTNode('ast-node-1751676386994-4thk0pstq')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: d</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-7jy70rxs0" onclick="toggleASTNode('ast-node-1751676386994-7jy70rxs0')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-7jy70rxs0-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-jqld0kx3g" onclick="toggleASTNode('ast-node-1751676386994-jqld0kx3g')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: d</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-jqld0kx3g-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-muvtnjyfp" onclick="toggleASTNode('ast-node-1751676386994-muvtnjyfp')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: int</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-npa0rkz5k" onclick="toggleASTNode('ast-node-1751676386994-npa0rkz5k')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-npa0rkz5k-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-atgqqwuo7" onclick="toggleASTNode('ast-node-1751676386994-atgqqwuo7')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-atgqqwuo7-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-chd1e541k" onclick="toggleASTNode('ast-node-1751676386994-chd1e541k')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-chd1e541k-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-m3hgoujoq" onclick="toggleASTNode('ast-node-1751676386994-m3hgoujoq')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: datam1, dataType: string, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-m3hgoujoq-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-56jv2av67" onclick="toggleASTNode('ast-node-1751676386994-56jv2av67')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: string</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-jv5r0dloo" onclick="toggleASTNode('ast-node-1751676386994-jv5r0dloo')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-jv5r0dloo-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-9558wiu0g" onclick="toggleASTNode('ast-node-1751676386994-9558wiu0g')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: datam2, dataType: string, required: false</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-9558wiu0g-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-8umh4quq3" onclick="toggleASTNode('ast-node-1751676386994-8umh4quq3')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: string</span></div></div></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-9jrrjp3fd" onclick="toggleASTNode('ast-node-1751676386994-9jrrjp3fd')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-9jrrjp3fd-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-h5i40x9xl" onclick="toggleASTNode('ast-node-1751676386994-h5i40x9xl')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data2</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-h5i40x9xl-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-mok6iefsg" onclick="toggleASTNode('ast-node-1751676386994-mok6iefsg')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-mok6iefsg-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-0fs08g73v" onclick="toggleASTNode('ast-node-1751676386994-0fs08g73v')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">MixinDeclaration</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">mixin: data</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-uk5jmer7l" onclick="toggleASTNode('ast-node-1751676386994-uk5jmer7l')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-uk5jmer7l-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-p7syugdpq" onclick="toggleASTNode('ast-node-1751676386994-p7syugdpq')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: name, dataType: string, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-p7syugdpq-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-ensnhuufc" onclick="toggleASTNode('ast-node-1751676386994-ensnhuufc')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: string</span></div></div></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-nu3xm1ea5" onclick="toggleASTNode('ast-node-1751676386994-nu3xm1ea5')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-nu3xm1ea5-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-efgg8hj9i" onclick="toggleASTNode('ast-node-1751676386994-efgg8hj9i')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">FunctionDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: data2, returnType: data2, declare: false, params: (name: string)</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-u9ga3odpp" onclick="toggleASTNode('ast-node-1751676386994-u9ga3odpp')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-u9ga3odpp-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-4iry8y8qc" onclick="toggleASTNode('ast-node-1751676386994-4iry8y8qc')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">FunctionDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: generateData3, returnType: data2, declare: false, params: ()</span></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-z5nfnc142" onclick="toggleASTNode('ast-node-1751676386994-z5nfnc142')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-z5nfnc142-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-csrelwwyz" onclick="toggleASTNode('ast-node-1751676386994-csrelwwyz')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: version</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-csrelwwyz-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-wk98z5cm1" onclick="toggleASTNode('ast-node-1751676386994-wk98z5cm1')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-wk98z5cm1-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-eilwhe7fr" onclick="toggleASTNode('ast-node-1751676386994-eilwhe7fr')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: major, dataType: int, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-eilwhe7fr-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-x9nmbyuy3" onclick="toggleASTNode('ast-node-1751676386994-x9nmbyuy3')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;The major version number.&quot;</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-fgnm25efn" onclick="toggleASTNode('ast-node-1751676386994-fgnm25efn')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: int</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-07mo1wypb" onclick="toggleASTNode('ast-node-1751676386994-07mo1wypb')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-07mo1wypb-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-1vfx9aps7" onclick="toggleASTNode('ast-node-1751676386994-1vfx9aps7')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: minor, dataType: int, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-1vfx9aps7-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-2fvcnzpgr" onclick="toggleASTNode('ast-node-1751676386994-2fvcnzpgr')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;The minor version number.&quot;</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-mlw0tzhq0" onclick="toggleASTNode('ast-node-1751676386994-mlw0tzhq0')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: int</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-745zy54bw" onclick="toggleASTNode('ast-node-1751676386994-745zy54bw')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-745zy54bw-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-wwl81m0b3" onclick="toggleASTNode('ast-node-1751676386994-wwl81m0b3')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructMember</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: patch, dataType: int, required: true</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-wwl81m0b3-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-7866vr3w1" onclick="toggleASTNode('ast-node-1751676386994-7866vr3w1')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;The patch version number.&quot;</span></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-nge767gsq" onclick="toggleASTNode('ast-node-1751676386994-nge767gsq')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">TypeReference</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">type: int</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-8p80dlo9w" onclick="toggleASTNode('ast-node-1751676386994-8p80dlo9w')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">StructContent</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-8p80dlo9w-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-758jqs7xy" onclick="toggleASTNode('ast-node-1751676386994-758jqs7xy')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">MethodDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: toString, returnType: string, params: ()</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-758jqs7xy-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-8" id="ast-node-1751676386994-l441eautn" onclick="toggleASTNode('ast-node-1751676386994-l441eautn')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;Get version as a string.&quot;</span></div></div></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-20q9n74hk" onclick="toggleASTNode('ast-node-1751676386994-20q9n74hk')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-20q9n74hk-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-uczg3x4tg" onclick="toggleASTNode('ast-node-1751676386994-uczg3x4tg')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">FunctionDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: getVersion, returnType: version, declare: true, params: ()</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-uczg3x4tg-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-6" id="ast-node-1751676386994-vlivlgqlk" onclick="toggleASTNode('ast-node-1751676386994-vlivlgqlk')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Annotation</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: description, value: &quot;Returns the version of the configuration schema.&quot;</span></div></div></div><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-2" id="ast-node-1751676386994-3kgalk20e" onclick="toggleASTNode('ast-node-1751676386994-3kgalk20e')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600">▼</span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">Declaration</span></div><div class="children border-l border-gray-300 dark:border-gray-700 pl-2 ml-1" id="ast-node-1751676386994-3kgalk20e-children"><div class="ast-node group cursor-pointer py-0.5 px-1 hover:bg-gray-200 dark:hover:bg-gray-800 ml-4" id="ast-node-1751676386994-8ol82og4y" onclick="toggleASTNode('ast-node-1751676386994-8ol82og4y')"><span class="toggle inline-block w-3 text-xs text-gray-500 dark:text-gray-600"> </span><span class="node-type text-xs text-blue-700 dark:text-blue-400 bg-gray-200 dark:bg-gray-800 px-1 py-0 mr-1">FunctionDefinition</span><span class="node-details text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-gray-850 px-1 py-0">name: generateData4, returnType: data2, declare: false, params: (version: version)</span></div></div></div></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const astData = {
  "type": "Program",
  "children": [
    {
      "type": "SchemaDirective",
      "schema": "canon::schema"
    },
    {
      "type": "SchemaDefinition",
      "children": [
        {
          "type": "SchemaMember",
          "children": [
            {
              "type": "Annotation",
              "name": "description",
              "value": "hoge"
            },
            {
              "type": "TypeReference",
              "typeName": "data"
            }
          ],
          "name": "data1",
          "multiple": false,
          "required": true,
          "dataType": "data"
        },
        {
          "type": "SchemaMember",
          "children": [
            {
              "type": "Annotation",
              "name": "description",
              "value": "fuga"
            },
            {
              "type": "TypeReference",
              "typeName": "data2"
            }
          ],
          "name": "data2",
          "multiple": true,
          "required": false,
          "dataType": "data2"
        },
        {
          "type": "SchemaMember",
          "children": [
            {
              "type": "TypeReference",
              "typeName": "data2"
            }
          ],
          "name": "data3",
          "multiple": false,
          "required": false,
          "dataType": "data2"
        },
        {
          "type": "SchemaMember",
          "children": [
            {
              "type": "TypeReference",
              "typeName": "data2"
            }
          ],
          "name": "data4",
          "multiple": true,
          "required": true,
          "dataType": "data2"
        },
        {
          "type": "SchemaMember",
          "children": [
            {
              "type": "TypeReference",
              "typeName": "d"
            }
          ],
          "name": "data5",
          "multiple": false,
          "required": true,
          "dataType": "d"
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "StructDefinition",
          "children": [
            {
              "type": "TypeReference",
              "typeName": "int"
            }
          ],
          "name": "d"
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "StructDefinition",
          "children": [
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "TypeReference",
                      "typeName": "string"
                    }
                  ],
                  "name": "datam1",
                  "required": true,
                  "dataType": "string"
                }
              ]
            },
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "TypeReference",
                      "typeName": "string"
                    }
                  ],
                  "name": "datam2",
                  "required": false,
                  "dataType": "string"
                }
              ]
            }
          ],
          "name": "data"
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "StructDefinition",
          "children": [
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "MixinDeclaration",
                  "mixinType": "data"
                }
              ]
            },
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "TypeReference",
                      "typeName": "string"
                    }
                  ],
                  "name": "name",
                  "required": true,
                  "dataType": "string"
                }
              ]
            }
          ],
          "name": "data2"
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "FunctionDefinition",
          "name": "data2",
          "isDeclare": false,
          "returnType": "data2",
          "parameters": [
            {
              "name": "name",
              "type": "string"
            }
          ],
          "functionBody": {
            "type": "FunctionBody",
            "children": [
              {
                "type": "ExpressionStatement",
                "children": [
                  {
                    "type": "FunctionCall",
                    "functionName": "apply",
                    "hasArguments": false,
                    "argumentCount": 0
                  }
                ]
              },
              {
                "type": "Assignment",
                "children": [
                  {
                    "type": "PrimaryExpression"
                  }
                ],
                "target": "this.name"
              }
            ]
          }
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "FunctionDefinition",
          "name": "generateData3",
          "isDeclare": false,
          "returnType": "data2",
          "parameters": [],
          "functionBody": {
            "type": "FunctionBody",
            "children": [
              {
                "type": "ReturnStatement",
                "children": [
                  {
                    "type": "PrimaryExpression",
                    "children": [
                      {
                        "type": "FunctionCall",
                        "children": [
                          {
                            "type": "ArgumentList",
                            "children": [
                              {
                                "type": "PrimaryExpression",
                                "children": [
                                  {
                                    "type": "Literal",
                                    "literalType": "string",
                                    "value": "generated"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "ConstructionBody",
                            "children": [
                              {
                                "type": "Assignment",
                                "children": [
                                  {
                                    "type": "PrimaryExpression",
                                    "children": [
                                      {
                                        "type": "Literal",
                                        "literalType": "string",
                                        "value": "generated1"
                                      }
                                    ]
                                  }
                                ],
                                "target": "datam1"
                              },
                              {
                                "type": "Assignment",
                                "children": [
                                  {
                                    "type": "PrimaryExpression",
                                    "children": [
                                      {
                                        "type": "Literal",
                                        "literalType": "string",
                                        "value": "generated2"
                                      }
                                    ]
                                  }
                                ],
                                "target": "datam2"
                              }
                            ]
                          }
                        ],
                        "functionName": "data2",
                        "hasArguments": true,
                        "argumentCount": 1,
                        "isObjectConstruction": true,
                        "hasBody": true
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "StructDefinition",
          "children": [
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "Annotation",
                      "name": "description",
                      "value": "The major version number."
                    },
                    {
                      "type": "TypeReference",
                      "typeName": "int"
                    }
                  ],
                  "name": "major",
                  "required": true,
                  "dataType": "int"
                }
              ]
            },
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "Annotation",
                      "name": "description",
                      "value": "The minor version number."
                    },
                    {
                      "type": "TypeReference",
                      "typeName": "int"
                    }
                  ],
                  "name": "minor",
                  "required": true,
                  "dataType": "int"
                }
              ]
            },
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "StructMember",
                  "children": [
                    {
                      "type": "Annotation",
                      "name": "description",
                      "value": "The patch version number."
                    },
                    {
                      "type": "TypeReference",
                      "typeName": "int"
                    }
                  ],
                  "name": "patch",
                  "required": true,
                  "dataType": "int"
                }
              ]
            },
            {
              "type": "StructContent",
              "children": [
                {
                  "type": "MethodDefinition",
                  "children": [
                    {
                      "type": "Annotation",
                      "name": "description",
                      "value": "Get version as a string."
                    }
                  ],
                  "name": "toString",
                  "returnType": "string",
                  "parameters": [],
                  "functionBody": {
                    "type": "FunctionBody",
                    "children": [
                      {
                        "type": "ReturnStatement",
                        "children": [
                          {
                            "type": "PrimaryExpression",
                            "children": [
                              {
                                "type": "StringInterpolation",
                                "children": [
                                  {
                                    "type": "StringContent",
                                    "children": [
                                      {
                                        "type": "InterpolationExpression",
                                        "children": [
                                          {
                                            "type": "PrimaryExpression",
                                            "children": [
                                              {
                                                "type": "MemberAccess",
                                                "object": "this",
                                                "member": "major",
                                                "fullAccess": "this.major"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "InterpolationExpression",
                                        "children": [
                                          {
                                            "type": "PrimaryExpression",
                                            "children": [
                                              {
                                                "type": "MemberAccess",
                                                "object": "this",
                                                "member": "minor",
                                                "fullAccess": "this.minor"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "InterpolationExpression",
                                        "children": [
                                          {
                                            "type": "PrimaryExpression",
                                            "children": [
                                              {
                                                "type": "MemberAccess",
                                                "object": "this",
                                                "member": "patch",
                                                "fullAccess": "this.patch"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ],
          "name": "version"
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "FunctionDefinition",
          "children": [
            {
              "type": "Annotation",
              "name": "description",
              "value": "Returns the version of the configuration schema."
            }
          ],
          "name": "getVersion",
          "isDeclare": true,
          "returnType": "version",
          "parameters": []
        }
      ]
    },
    {
      "type": "Declaration",
      "children": [
        {
          "type": "FunctionDefinition",
          "name": "generateData4",
          "isDeclare": false,
          "returnType": "data2",
          "parameters": [
            {
              "name": "version",
              "type": "version"
            }
          ],
          "functionBody": {
            "type": "FunctionBody",
            "children": [
              {
                "type": "ReturnStatement",
                "children": [
                  {
                    "type": "PrimaryExpression",
                    "children": [
                      {
                        "type": "FunctionCall",
                        "children": [
                          {
                            "type": "ArgumentList",
                            "children": [
                              {
                                "type": "PrimaryExpression",
                                "children": [
                                  {
                                    "type": "FunctionCall",
                                    "children": [
                                      {
                                        "type": "MemberAccess",
                                        "object": "version",
                                        "member": "toString",
                                        "fullAccess": "version.toString"
                                      }
                                    ],
                                    "isMethodCall": true,
                                    "functionName": "version.toString",
                                    "hasArguments": false,
                                    "argumentCount": 0
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "ConstructionBody",
                            "children": [
                              {
                                "type": "Assignment",
                                "children": [
                                  {
                                    "type": "PrimaryExpression",
                                    "children": [
                                      {
                                        "type": "Literal",
                                        "literalType": "string",
                                        "value": "generated1"
                                      }
                                    ]
                                  }
                                ],
                                "target": "datam1"
                              },
                              {
                                "type": "Assignment",
                                "children": [
                                  {
                                    "type": "PrimaryExpression",
                                    "children": [
                                      {
                                        "type": "Literal",
                                        "literalType": "string",
                                        "value": "generated2"
                                      }
                                    ]
                                  }
                                ],
                                "target": "datam2"
                              }
                            ]
                          }
                        ],
                        "functionName": "data2",
                        "hasArguments": true,
                        "argumentCount": 1,
                        "isObjectConstruction": true,
                        "hasBody": true
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      ]
    }
  ]
};
        
        // Theme functionality
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const theme = savedTheme || systemTheme;
            
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        }
        
        function toggleTheme() {
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        function countNodes(node) {
            let count = 1;
            if (node.children) {
                for (const child of node.children) {
                    count += countNodes(child);
                }
            }
            return count;
        }
        
        function getNodeTypes(node, types = new Set()) {
            types.add(node.type);
            if (node.children) {
                for (const child of node.children) {
                    getNodeTypes(child, types);
                }
            }
            return types;
        }
        
        function updateStats() {
            const totalNodes = countNodes(astData);
            const nodeTypes = getNodeTypes(astData);
            const uniqueTypes = nodeTypes.size;
            
            document.getElementById('stats-content').textContent = 
                'Total nodes: ' + totalNodes + ', Unique types: ' + uniqueTypes;
        }
        
        function toggleASTNode(nodeId) {
            const node = document.getElementById(nodeId);
            const children = document.getElementById(nodeId + '-children');
            
            if (children) {
                if (children.style.display === 'none') {
                    children.style.display = 'block';
                    node.classList.remove('collapsed');
                    node.classList.add('expanded');
                    node.querySelector('.toggle').textContent = '▼';
                } else {
                    children.style.display = 'none';
                    node.classList.remove('expanded');
                    node.classList.add('collapsed');
                    node.querySelector('.toggle').textContent = '▶';
                }
            }
        }
        
        function expandAll() {
            const childrenDivs = document.querySelectorAll('.children');
            const nodes = document.querySelectorAll('.ast-node');
            
            childrenDivs.forEach(div => {
                div.style.display = 'block';
            });
            
            nodes.forEach(node => {
                node.classList.remove('collapsed');
                node.classList.add('expanded');
                const toggle = node.querySelector('.toggle');
                if (toggle && toggle.textContent.trim() === '▶') {
                    toggle.textContent = '▼';
                }
            });
        }
        
        function collapseAll() {
            const childrenDivs = document.querySelectorAll('.children');
            const nodes = document.querySelectorAll('.ast-node');
            
            childrenDivs.forEach(div => {
                div.style.display = 'none';
            });
            
            nodes.forEach(node => {
                node.classList.remove('expanded');
                node.classList.add('collapsed');
                const toggle = node.querySelector('.toggle');
                if (toggle && toggle.textContent.trim() === '▼') {
                    toggle.textContent = '▶';
                }
            });
        }
        
        function expandToLevel(maxLevel) {
            const allNodes = document.querySelectorAll('.ast-node');
            
            allNodes.forEach(node => {
                const classes = node.className;
                const mlMatch = classes.match(/ml-(\d+)/);
                const depth = mlMatch ? parseInt(mlMatch[1]) : 0;
                const nodeLevel = Math.floor(depth / 4) + 1;
                const children = document.getElementById(node.id + '-children');
                
                if (children) {
                    if (nodeLevel < maxLevel) {
                        children.style.display = 'block';
                        node.classList.remove('collapsed');
                        node.classList.add('expanded');
                        node.querySelector('.toggle').textContent = '▼';
                    } else {
                        children.style.display = 'none';
                        node.classList.remove('expanded');
                        node.classList.add('collapsed');
                        node.querySelector('.toggle').textContent = '▶';
                    }
                }
            });
        }
        
        function searchNodes() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const nodes = document.querySelectorAll('.ast-node');
            
            nodes.forEach(node => {
                const text = node.textContent.toLowerCase();
                node.classList.remove('highlight');
                
                if (query && text.includes(query)) {
                    node.classList.add('highlight');
                    
                    // Show path to highlighted node
                    let parent = node.parentElement;
                    while (parent && parent.classList.contains('children')) {
                        parent.style.display = 'block';
                        const parentNode = parent.previousElementSibling;
                        if (parentNode && parentNode.classList.contains('ast-node')) {
                            parentNode.classList.remove('collapsed');
                            parentNode.classList.add('expanded');
                            const toggle = parentNode.querySelector('.toggle');
                            if (toggle) toggle.textContent = '▼';
                        }
                        parent = parent.parentElement;
                    }
                }
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            updateStats();
            
            // Search functionality
            const searchInput = document.getElementById('search-input');
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(searchNodes, 300);
            });
            
            // Initially collapse some levels for better overview
            setTimeout(() => expandToLevel(3), 100);
        });
    </script>
</body>
</html>