type: Program
body:
  - type: SchemaDeclaration
    annotations: []
    body:
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: PluginHeader
          loc:
            start:
              line: 10
              column: 4
            end:
              line: 10
              column: 16
        annotations:
          - type: Annotation
            name:
              type: Identifier
              name: description
              loc:
                start:
                  line: 9
                  column: 5
                end:
                  line: 9
                  column: 16
            arguments:
              - type: StringLiteral
                value: A plugin header
                raw: '''A plugin header'''
                loc:
                  start:
                    line: 9
                    column: 17
                  end:
                    line: 9
                    column: 34
            loc:
              start:
                line: 9
                column: 4
              end:
                line: 9
                column: 34
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name:
            type: Identifier
            name: PluginHeader
            loc:
              start:
                line: 10
                column: 4
              end:
                line: 10
                column: 16
          loc:
            start:
              line: 10
              column: 4
            end:
              line: 10
              column: 16
        loc:
          start:
            line: 9
            column: 4
          end:
            line: 10
            column: 16
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: pipeline
          loc:
            start:
              line: 11
              column: 4
            end:
              line: 11
              column: 12
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name:
            type: Identifier
            name: Pipeline
            loc:
              start:
                line: 11
                column: 14
              end:
                line: 11
                column: 22
          loc:
            start:
              line: 11
              column: 14
            end:
              line: 11
              column: 22
        loc:
          start:
            line: 11
            column: 4
          end:
            line: 11
            column: 22
    loc:
      start:
        line: 7
        column: 0
      end:
        line: 12
        column: 1
  - type: StructDeclaration
    name:
      type: Identifier
      name: PluginHeader
      loc:
        start:
          line: 15
          column: 7
        end:
          line: 15
          column: 19
    annotations:
      - type: Annotation
        name:
          type: Identifier
          name: description
          loc:
            start:
              line: 14
              column: 1
            end:
              line: 14
              column: 12
        arguments:
          - type: StringLiteral
            value: Plugin header struct
            raw: '"Plugin header struct"'
            loc:
              start:
                line: 14
                column: 13
              end:
                line: 14
                column: 35
        loc:
          start:
            line: 14
            column: 0
          end:
            line: 14
            column: 36
    body:
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: name
          loc:
            start:
              line: 16
              column: 4
            end:
              line: 16
              column: 8
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 16
              column: 10
            end:
              line: 16
              column: 16
        loc:
          start:
            line: 16
            column: 4
          end:
            line: 16
            column: 16
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: description
          loc:
            start:
              line: 17
              column: 4
            end:
              line: 17
              column: 15
        annotations: []
        isPrivate: false
        isOptional: true
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 17
              column: 18
            end:
              line: 17
              column: 24
        loc:
          start:
            line: 17
            column: 4
          end:
            line: 17
            column: 24
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: version
          loc:
            start:
              line: 18
              column: 4
            end:
              line: 18
              column: 11
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name:
            type: Identifier
            name: Version
            loc:
              start:
                line: 18
                column: 13
              end:
                line: 18
                column: 20
          loc:
            start:
              line: 18
              column: 13
            end:
              line: 18
              column: 20
        defaultValue:
          type: CallExpression
          name:
            type: Identifier
            name: Version
            loc:
              start:
                line: 18
                column: 23
              end:
                line: 18
                column: 30
          arguments: []
          lambdaBody:
            - type: AssignmentStatement
              left:
                type: Identifier
                name: major
                loc:
                  start:
                    line: 19
                    column: 8
                  end:
                    line: 19
                    column: 13
              right:
                type: IntegerLiteral
                value: 0
                raw: '0'
                loc:
                  start:
                    line: 19
                    column: 16
                  end:
                    line: 19
                    column: 17
              loc:
                start:
                  line: 19
                  column: 8
                end:
                  line: 19
                  column: 17
            - type: AssignmentStatement
              left:
                type: Identifier
                name: minor
                loc:
                  start:
                    line: 20
                    column: 8
                  end:
                    line: 20
                    column: 13
              right:
                type: IntegerLiteral
                value: 0
                raw: '0'
                loc:
                  start:
                    line: 20
                    column: 16
                  end:
                    line: 20
                    column: 17
              loc:
                start:
                  line: 20
                  column: 8
                end:
                  line: 20
                  column: 17
            - type: AssignmentStatement
              left:
                type: Identifier
                name: patch
                loc:
                  start:
                    line: 21
                    column: 8
                  end:
                    line: 21
                    column: 13
              right:
                type: IntegerLiteral
                value: 1
                raw: '1'
                loc:
                  start:
                    line: 21
                    column: 16
                  end:
                    line: 21
                    column: 17
              loc:
                start:
                  line: 21
                  column: 8
                end:
                  line: 21
                  column: 17
          loc:
            start:
              line: 18
              column: 23
            end:
              line: 22
              column: 5
        loc:
          start:
            line: 18
            column: 4
          end:
            line: 22
            column: 5
    loc:
      start:
        line: 14
        column: 0
      end:
        line: 23
        column: 1
  - type: StructDeclaration
    name:
      type: Identifier
      name: Version
      loc:
        start:
          line: 25
          column: 7
        end:
          line: 25
          column: 14
    annotations: []
    body:
      - type: InitDeclaration
        annotations: []
        parameters: []
        body:
          - type: CallExpression
            name:
              type: Identifier
              name: validation
              loc:
                start:
                  line: 27
                  column: 8
                end:
                  line: 27
                  column: 18
            arguments: []
            loc:
              start:
                line: 27
                column: 8
              end:
                line: 27
                column: 20
        loc:
          start:
            line: 26
            column: 4
          end:
            line: 28
            column: 5
      - type: InitDeclaration
        annotations: []
        parameters:
          - type: Parameter
            name:
              type: Identifier
              name: major
              loc:
                start:
                  line: 29
                  column: 9
                end:
                  line: 29
                  column: 14
            typeRef:
              type: PrimitiveType
              name: int
              loc:
                start:
                  line: 29
                  column: 16
                end:
                  line: 29
                  column: 19
            loc:
              start:
                line: 29
                column: 9
              end:
                line: 29
                column: 19
        body:
          - type: AssignmentStatement
            left:
              type: MemberAccessExpression
              object:
                type: ThisExpression
                loc:
                  start:
                    line: 30
                    column: 8
                  end:
                    line: 30
                    column: 12
              property:
                type: Identifier
                name: major
                loc:
                  start:
                    line: 30
                    column: 13
                  end:
                    line: 30
                    column: 18
              computed: false
              loc:
                start:
                  line: 30
                  column: 8
                end:
                  line: 30
                  column: 26
            right:
              type: Identifier
              name: major
              loc:
                start:
                  line: 30
                  column: 21
                end:
                  line: 30
                  column: 26
            loc:
              start:
                line: 30
                column: 8
              end:
                line: 30
                column: 26
          - type: AssignmentStatement
            left:
              type: Identifier
              name: minor
              loc:
                start:
                  line: 31
                  column: 8
                end:
                  line: 31
                  column: 13
            right:
              type: IntegerLiteral
              value: 0
              raw: '0'
              loc:
                start:
                  line: 31
                  column: 16
                end:
                  line: 31
                  column: 17
            loc:
              start:
                line: 31
                column: 8
              end:
                line: 31
                column: 17
          - type: AssignmentStatement
            left:
              type: Identifier
              name: patch
              loc:
                start:
                  line: 32
                  column: 8
                end:
                  line: 32
                  column: 13
            right:
              type: IntegerLiteral
              value: 0
              raw: '0'
              loc:
                start:
                  line: 32
                  column: 16
                end:
                  line: 32
                  column: 17
            loc:
              start:
                line: 32
                column: 8
              end:
                line: 32
                column: 17
          - type: CallExpression
            name:
              type: Identifier
              name: validation
              loc:
                start:
                  line: 33
                  column: 8
                end:
                  line: 33
                  column: 18
            arguments: []
            loc:
              start:
                line: 33
                column: 8
              end:
                line: 33
                column: 20
        loc:
          start:
            line: 29
            column: 4
          end:
            line: 34
            column: 5
      - type: InitDeclaration
        annotations: []
        parameters:
          - type: Parameter
            name:
              type: MemberAccessExpression
              object:
                type: ThisExpression
                loc:
                  start:
                    line: 35
                    column: 9
                  end:
                    line: 35
                    column: 13
              property:
                type: Identifier
                name: major
                loc:
                  start:
                    line: 35
                    column: 14
                  end:
                    line: 35
                    column: 19
              computed: false
              loc:
                start:
                  line: 35
                  column: 9
                end:
                  line: 35
                  column: 19
            loc:
              start:
                line: 35
                column: 9
              end:
                line: 35
                column: 19
          - type: Parameter
            name:
              type: MemberAccessExpression
              object:
                type: ThisExpression
                loc:
                  start:
                    line: 35
                    column: 21
                  end:
                    line: 35
                    column: 25
              property:
                type: Identifier
                name: minor
                loc:
                  start:
                    line: 35
                    column: 26
                  end:
                    line: 35
                    column: 31
              computed: false
              loc:
                start:
                  line: 35
                  column: 21
                end:
                  line: 35
                  column: 31
            loc:
              start:
                line: 35
                column: 21
              end:
                line: 35
                column: 31
          - type: Parameter
            name:
              type: MemberAccessExpression
              object:
                type: ThisExpression
                loc:
                  start:
                    line: 35
                    column: 33
                  end:
                    line: 35
                    column: 37
              property:
                type: Identifier
                name: patch
                loc:
                  start:
                    line: 35
                    column: 38
                  end:
                    line: 35
                    column: 43
              computed: false
              loc:
                start:
                  line: 35
                  column: 33
                end:
                  line: 35
                  column: 43
            loc:
              start:
                line: 35
                column: 33
              end:
                line: 35
                column: 43
        body:
          - type: CallExpression
            name:
              type: Identifier
              name: validation
              loc:
                start:
                  line: 36
                  column: 8
                end:
                  line: 36
                  column: 18
            arguments: []
            loc:
              start:
                line: 36
                column: 8
              end:
                line: 36
                column: 20
        loc:
          start:
            line: 35
            column: 4
          end:
            line: 37
            column: 5
      - type: FunctionDeclaration
        name:
          type: Identifier
          name: validation
          loc:
            start:
              line: 38
              column: 12
            end:
              line: 38
              column: 22
        annotations: []
        isPrivate: true
        parameters: []
        body:
          - type: ExpressionStatement
            expression:
              type: IfExpression
              condition:
                type: BinaryExpression
                operator: '&&'
                left:
                  type: BinaryExpression
                  operator: '&&'
                  left:
                    type: BinaryExpression
                    operator: '=='
                    left:
                      type: MemberAccessExpression
                      object:
                        type: ThisExpression
                        loc:
                          start:
                            line: 39
                            column: 12
                          end:
                            line: 39
                            column: 16
                      property:
                        type: Identifier
                        name: major
                        loc:
                          start:
                            line: 39
                            column: 17
                          end:
                            line: 39
                            column: 22
                      computed: false
                      loc:
                        start:
                          line: 39
                          column: 12
                        end:
                          line: 39
                          column: 22
                    right:
                      type: IntegerLiteral
                      value: 0
                      raw: '0'
                      loc:
                        start:
                          line: 39
                          column: 26
                        end:
                          line: 39
                          column: 27
                    loc:
                      start:
                        line: 39
                        column: 12
                      end:
                        line: 39
                        column: 27
                  right:
                    type: BinaryExpression
                    operator: '=='
                    left:
                      type: MemberAccessExpression
                      object:
                        type: ThisExpression
                        loc:
                          start:
                            line: 39
                            column: 31
                          end:
                            line: 39
                            column: 35
                      property:
                        type: Identifier
                        name: minor
                        loc:
                          start:
                            line: 39
                            column: 36
                          end:
                            line: 39
                            column: 41
                      computed: false
                      loc:
                        start:
                          line: 39
                          column: 31
                        end:
                          line: 39
                          column: 41
                    right:
                      type: IntegerLiteral
                      value: 0
                      raw: '0'
                      loc:
                        start:
                          line: 39
                          column: 45
                        end:
                          line: 39
                          column: 46
                    loc:
                      start:
                        line: 39
                        column: 31
                      end:
                        line: 39
                        column: 46
                  loc:
                    start:
                      line: 39
                      column: 12
                    end:
                      line: 39
                      column: 46
                right:
                  type: BinaryExpression
                  operator: '=='
                  left:
                    type: MemberAccessExpression
                    object:
                      type: ThisExpression
                      loc:
                        start:
                          line: 39
                          column: 50
                        end:
                          line: 39
                          column: 54
                    property:
                      type: Identifier
                      name: patch
                      loc:
                        start:
                          line: 39
                          column: 55
                        end:
                          line: 39
                          column: 60
                    computed: false
                    loc:
                      start:
                        line: 39
                        column: 50
                      end:
                        line: 39
                        column: 60
                  right:
                    type: IntegerLiteral
                    value: 0
                    raw: '0'
                    loc:
                      start:
                        line: 39
                        column: 64
                      end:
                        line: 39
                        column: 65
                  loc:
                    start:
                      line: 39
                      column: 50
                    end:
                      line: 39
                      column: 65
                loc:
                  start:
                    line: 39
                    column: 12
                  end:
                    line: 39
                    column: 65
              then:
                - type: ExpressionStatement
                  expression:
                    type: CallExpression
                    callee:
                      type: Identifier
                      name: error
                      loc:
                        start:
                          line: 39
                          column: 67
                        end:
                          line: 39
                          column: 72
                    arguments:
                      - type: StringLiteral
                        value: Given version is not valid
                        raw: '''Given version is not valid'''
                        loc:
                          start:
                            line: 39
                            column: 73
                          end:
                            line: 39
                            column: 101
                    loc:
                      start:
                        line: 39
                        column: 67
                      end:
                        line: 39
                        column: 102
                  loc:
                    start:
                      line: 39
                      column: 67
                    end:
                      line: 39
                      column: 102
              loc:
                start:
                  line: 39
                  column: 8
                end:
                  line: 39
                  column: 102
            loc:
              start:
                line: 39
                column: 8
              end:
                line: 39
                column: 102
        loc:
          start:
            line: 38
            column: 4
          end:
            line: 40
            column: 5
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: major
          loc:
            start:
              line: 41
              column: 4
            end:
              line: 41
              column: 9
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 41
              column: 11
            end:
              line: 41
              column: 14
        loc:
          start:
            line: 41
            column: 4
          end:
            line: 41
            column: 14
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: minor
          loc:
            start:
              line: 42
              column: 4
            end:
              line: 42
              column: 9
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 42
              column: 11
            end:
              line: 42
              column: 14
        loc:
          start:
            line: 42
            column: 4
          end:
            line: 42
            column: 14
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: patch
          loc:
            start:
              line: 43
              column: 4
            end:
              line: 43
              column: 9
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 43
              column: 11
            end:
              line: 43
              column: 14
        loc:
          start:
            line: 43
            column: 4
          end:
            line: 43
            column: 14
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: hoge
          loc:
            start:
              line: 44
              column: 12
            end:
              line: 44
              column: 16
        annotations: []
        isPrivate: true
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 44
              column: 18
            end:
              line: 44
              column: 24
        loc:
          start:
            line: 44
            column: 4
          end:
            line: 44
            column: 24
      - type: GetterDeclaration
        name:
          type: Identifier
          name: toString
          loc:
            start:
              line: 45
              column: 8
            end:
              line: 45
              column: 16
        annotations: []
        body:
          - type: ExpressionStatement
            expression:
              type: TemplateLiteral
              parts:
                - type: TemplateInterpolation
                  identifier: major
                  loc:
                    start:
                      line: 46
                      column: 9
                    end:
                      line: 46
                      column: 15
                - type: TemplateStringPart
                  value: .
                  loc:
                    start:
                      line: 46
                      column: 15
                    end:
                      line: 46
                      column: 16
                - type: TemplateInterpolation
                  identifier: minor
                  loc:
                    start:
                      line: 46
                      column: 16
                    end:
                      line: 46
                      column: 22
                - type: TemplateStringPart
                  value: .
                  loc:
                    start:
                      line: 46
                      column: 22
                    end:
                      line: 46
                      column: 23
                - type: TemplateInterpolation
                  identifier: path
                  loc:
                    start:
                      line: 46
                      column: 23
                    end:
                      line: 46
                      column: 28
              loc:
                start:
                  line: 46
                  column: 8
                end:
                  line: 46
                  column: 29
            loc:
              start:
                line: 46
                column: 8
              end:
                line: 46
                column: 29
        loc:
          start:
            line: 45
            column: 4
          end:
            line: 47
            column: 5
    loc:
      start:
        line: 25
        column: 0
      end:
        line: 48
        column: 1
  - type: StructDeclaration
    name:
      type: Identifier
      name: Pipeline
      loc:
        start:
          line: 50
          column: 7
        end:
          line: 50
          column: 15
    annotations: []
    body:
      - type: RepeatedDeclaration
        name:
          type: Identifier
          name: steps
          loc:
            start:
              line: 51
              column: 13
            end:
              line: 51
              column: 18
        annotations: []
        typeRef:
          type: ArrayType
          elementType:
            type: TypeReference
            name:
              type: Identifier
              name: Step
              loc:
                start:
                  line: 51
                  column: 20
                end:
                  line: 51
                  column: 24
            loc:
              start:
                line: 51
                column: 20
              end:
                line: 51
                column: 24
          dimensions: 1
          loc:
            start:
              line: 51
              column: 20
            end:
              line: 51
              column: 26
        mapping:
          type: MappingBlock
          entries:
            - type: MappingEntry
              from:
                type: Identifier
                name: build
                loc:
                  start:
                    line: 52
                    column: 8
                  end:
                    line: 52
                    column: 13
              to:
                type: Identifier
                name: BuildStep
                loc:
                  start:
                    line: 52
                    column: 17
                  end:
                    line: 52
                    column: 26
              loc:
                start:
                  line: 52
                  column: 8
                end:
                  line: 52
                  column: 26
            - type: MappingEntry
              from:
                type: Identifier
                name: test
                loc:
                  start:
                    line: 53
                    column: 8
                  end:
                    line: 53
                    column: 12
              to:
                type: Identifier
                name: TestStep
                loc:
                  start:
                    line: 53
                    column: 16
                  end:
                    line: 53
                    column: 24
              loc:
                start:
                  line: 53
                  column: 8
                end:
                  line: 53
                  column: 24
          loc:
            start:
              line: 51
              column: 27
            end:
              line: 54
              column: 5
        loc:
          start:
            line: 51
            column: 4
          end:
            line: 54
            column: 5
    loc:
      start:
        line: 50
        column: 0
      end:
        line: 55
        column: 1
  - type: UnionDeclaration
    name:
      type: Identifier
      name: Step
      loc:
        start:
          line: 56
          column: 6
        end:
          line: 56
          column: 10
    annotations: []
    unionType:
      type: UnionType
      types:
        - type: TypeReference
          name:
            type: Identifier
            name: BuildStep
            loc:
              start:
                line: 56
                column: 13
              end:
                line: 56
                column: 22
          loc:
            start:
              line: 56
              column: 13
            end:
              line: 56
              column: 22
        - type: TypeReference
          name:
            type: Identifier
            name: TestStep
            loc:
              start:
                line: 56
                column: 25
              end:
                line: 56
                column: 33
          loc:
            start:
              line: 56
              column: 25
            end:
              line: 56
              column: 33
      loc:
        start:
          line: 56
          column: 13
        end:
          line: 56
          column: 33
    loc:
      start:
        line: 56
        column: 0
      end:
        line: 56
        column: 33
  - type: StructDeclaration
    name:
      type: Identifier
      name: BuildStep
      loc:
        start:
          line: 57
          column: 7
        end:
          line: 57
          column: 16
    annotations: []
    body:
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: command
          loc:
            start:
              line: 58
              column: 4
            end:
              line: 58
              column: 11
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 58
              column: 13
            end:
              line: 58
              column: 19
        loc:
          start:
            line: 58
            column: 4
          end:
            line: 58
            column: 19
    loc:
      start:
        line: 57
        column: 0
      end:
        line: 59
        column: 1
  - type: StructDeclaration
    name:
      type: Identifier
      name: TestStep
      loc:
        start:
          line: 60
          column: 7
        end:
          line: 60
          column: 15
    annotations: []
    body:
      - type: PropertyDeclaration
        name:
          type: Identifier
          name: script
          loc:
            start:
              line: 61
              column: 4
            end:
              line: 61
              column: 10
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 61
              column: 12
            end:
              line: 61
              column: 18
        loc:
          start:
            line: 61
            column: 4
          end:
            line: 61
            column: 18
    loc:
      start:
        line: 60
        column: 0
      end:
        line: 62
        column: 1
loc:
  start:
    line: 7
    column: 0
  end:
    line: 63
    column: 5
