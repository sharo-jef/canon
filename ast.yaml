type: Program
body:
  - type: SchemaDeclaration
    annotations: []
    body:
      - type: PropertyDeclaration
        name: PluginHeader
        annotations:
          - type: Annotation
            name: description
            arguments:
              - type: StringLiteral
                value: A plugin header
                raw: '''A plugin header'''
                loc:
                  start:
                    line: 9
                    column: 17
                  end:
                    line: 9
                    column: 34
            loc:
              start:
                line: 9
                column: 4
              end:
                line: 9
                column: 34
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name: PluginHeader
          loc:
            start:
              line: 10
              column: 4
            end:
              line: 10
              column: 16
        loc:
          start:
            line: 9
            column: 4
          end:
            line: 10
            column: 16
      - type: PropertyDeclaration
        name: pipeline
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name: Pipeline
          loc:
            start:
              line: 11
              column: 14
            end:
              line: 11
              column: 22
        loc:
          start:
            line: 11
            column: 4
          end:
            line: 11
            column: 22
    loc:
      start:
        line: 7
        column: 0
      end:
        line: 12
        column: 1
  - type: StructDeclaration
    name: PluginHeader
    annotations:
      - type: Annotation
        name: description
        arguments:
          - type: StringLiteral
            value: Plugin header struct
            raw: '"Plugin header struct"'
            loc:
              start:
                line: 14
                column: 13
              end:
                line: 14
                column: 35
        loc:
          start:
            line: 14
            column: 0
          end:
            line: 14
            column: 36
    body:
      - type: PropertyDeclaration
        name: name
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 16
              column: 10
            end:
              line: 16
              column: 16
        loc:
          start:
            line: 16
            column: 4
          end:
            line: 16
            column: 16
      - type: PropertyDeclaration
        name: description
        annotations: []
        isPrivate: false
        isOptional: true
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 17
              column: 18
            end:
              line: 17
              column: 24
        loc:
          start:
            line: 17
            column: 4
          end:
            line: 17
            column: 24
      - type: PropertyDeclaration
        name: version
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: TypeReference
          name: Version
          loc:
            start:
              line: 18
              column: 13
            end:
              line: 18
              column: 20
        defaultValue:
          type: CallExpression
          name: Version
          arguments: []
          lambdaBody:
            - type: AssignmentStatement
              left:
                type: Identifier
                name: major
                loc:
                  start:
                    line: 19
                    column: 8
                  end:
                    line: 19
                    column: 13
              right:
                type: IntegerLiteral
                value: 0
                raw: '0'
                loc:
                  start:
                    line: 19
                    column: 16
                  end:
                    line: 19
                    column: 17
              loc:
                start:
                  line: 19
                  column: 8
                end:
                  line: 19
                  column: 17
            - type: AssignmentStatement
              left:
                type: Identifier
                name: minor
                loc:
                  start:
                    line: 20
                    column: 8
                  end:
                    line: 20
                    column: 13
              right:
                type: IntegerLiteral
                value: 0
                raw: '0'
                loc:
                  start:
                    line: 20
                    column: 16
                  end:
                    line: 20
                    column: 17
              loc:
                start:
                  line: 20
                  column: 8
                end:
                  line: 20
                  column: 17
            - type: AssignmentStatement
              left:
                type: Identifier
                name: patch
                loc:
                  start:
                    line: 21
                    column: 8
                  end:
                    line: 21
                    column: 13
              right:
                type: IntegerLiteral
                value: 1
                raw: '1'
                loc:
                  start:
                    line: 21
                    column: 16
                  end:
                    line: 21
                    column: 17
              loc:
                start:
                  line: 21
                  column: 8
                end:
                  line: 21
                  column: 17
          loc:
            start:
              line: 18
              column: 23
            end:
              line: 22
              column: 5
        loc:
          start:
            line: 18
            column: 4
          end:
            line: 22
            column: 5
    loc:
      start:
        line: 14
        column: 0
      end:
        line: 23
        column: 1
  - type: StructDeclaration
    name: Version
    annotations: []
    body:
      - type: InitDeclaration
        annotations: []
        parameters: []
        body:
          - type: CallExpression
            name: validation
            arguments: []
            loc:
              start:
                line: 27
                column: 8
              end:
                line: 27
                column: 20
        loc:
          start:
            line: 26
            column: 4
          end:
            line: 28
            column: 5
      - type: InitDeclaration
        annotations: []
        parameters:
          - type: Parameter
            name: major
            isThisParameter: false
            typeRef:
              type: PrimitiveType
              name: int
              loc:
                start:
                  line: 29
                  column: 16
                end:
                  line: 29
                  column: 19
            loc:
              start:
                line: 29
                column: 9
              end:
                line: 29
                column: 19
        body:
          - type: AssignmentStatement
            left:
              type: MemberAccessExpression
              object:
                type: ThisExpression
                loc:
                  start:
                    line: 30
                    column: 8
                  end:
                    line: 30
                    column: 12
              property:
                type: Identifier
                name: major
                loc:
                  start:
                    line: 30
                    column: 13
                  end:
                    line: 30
                    column: 18
              computed: false
              loc:
                start:
                  line: 30
                  column: 8
                end:
                  line: 30
                  column: 26
            right:
              type: Identifier
              name: major
              loc:
                start:
                  line: 30
                  column: 21
                end:
                  line: 30
                  column: 26
            loc:
              start:
                line: 30
                column: 8
              end:
                line: 30
                column: 26
          - type: AssignmentStatement
            left:
              type: Identifier
              name: minor
              loc:
                start:
                  line: 31
                  column: 8
                end:
                  line: 31
                  column: 13
            right:
              type: IntegerLiteral
              value: 0
              raw: '0'
              loc:
                start:
                  line: 31
                  column: 16
                end:
                  line: 31
                  column: 17
            loc:
              start:
                line: 31
                column: 8
              end:
                line: 31
                column: 17
          - type: AssignmentStatement
            left:
              type: Identifier
              name: patch
              loc:
                start:
                  line: 32
                  column: 8
                end:
                  line: 32
                  column: 13
            right:
              type: IntegerLiteral
              value: 0
              raw: '0'
              loc:
                start:
                  line: 32
                  column: 16
                end:
                  line: 32
                  column: 17
            loc:
              start:
                line: 32
                column: 8
              end:
                line: 32
                column: 17
          - type: CallExpression
            name: validation
            arguments: []
            loc:
              start:
                line: 33
                column: 8
              end:
                line: 33
                column: 20
        loc:
          start:
            line: 29
            column: 4
          end:
            line: 34
            column: 5
      - type: InitDeclaration
        annotations: []
        parameters:
          - type: Parameter
            name: major
            isThisParameter: true
            loc:
              start:
                line: 35
                column: 9
              end:
                line: 35
                column: 19
          - type: Parameter
            name: minor
            isThisParameter: true
            loc:
              start:
                line: 35
                column: 21
              end:
                line: 35
                column: 31
          - type: Parameter
            name: patch
            isThisParameter: true
            loc:
              start:
                line: 35
                column: 33
              end:
                line: 35
                column: 43
        body:
          - type: CallExpression
            name: validation
            arguments: []
            loc:
              start:
                line: 36
                column: 8
              end:
                line: 36
                column: 20
        loc:
          start:
            line: 35
            column: 4
          end:
            line: 37
            column: 5
      - type: FunctionDeclaration
        name: validation
        annotations: []
        isPrivate: true
        parameters: []
        body:
          - type: IfStatement
            condition:
              type: BinaryExpression
              operator: and
              left:
                type: BinaryExpression
                operator: and
                left:
                  type: BinaryExpression
                  operator: '=='
                  left:
                    type: MemberAccessExpression
                    object:
                      type: ThisExpression
                      loc:
                        start:
                          line: 39
                          column: 12
                        end:
                          line: 39
                          column: 16
                    property:
                      type: Identifier
                      name: major
                      loc:
                        start:
                          line: 39
                          column: 17
                        end:
                          line: 39
                          column: 22
                    computed: false
                    loc:
                      start:
                        line: 39
                        column: 12
                      end:
                        line: 39
                        column: 22
                  right:
                    type: IntegerLiteral
                    value: 0
                    raw: '0'
                    loc:
                      start:
                        line: 39
                        column: 26
                      end:
                        line: 39
                        column: 27
                  loc:
                    start:
                      line: 39
                      column: 12
                    end:
                      line: 39
                      column: 27
                right:
                  type: BinaryExpression
                  operator: '=='
                  left:
                    type: MemberAccessExpression
                    object:
                      type: ThisExpression
                      loc:
                        start:
                          line: 39
                          column: 32
                        end:
                          line: 39
                          column: 36
                    property:
                      type: Identifier
                      name: minor
                      loc:
                        start:
                          line: 39
                          column: 37
                        end:
                          line: 39
                          column: 42
                    computed: false
                    loc:
                      start:
                        line: 39
                        column: 32
                      end:
                        line: 39
                        column: 42
                  right:
                    type: IntegerLiteral
                    value: 0
                    raw: '0'
                    loc:
                      start:
                        line: 39
                        column: 46
                      end:
                        line: 39
                        column: 47
                  loc:
                    start:
                      line: 39
                      column: 32
                    end:
                      line: 39
                      column: 47
                loc:
                  start:
                    line: 39
                    column: 12
                  end:
                    line: 39
                    column: 47
              right:
                type: BinaryExpression
                operator: '=='
                left:
                  type: MemberAccessExpression
                  object:
                    type: ThisExpression
                    loc:
                      start:
                        line: 39
                        column: 52
                      end:
                        line: 39
                        column: 56
                  property:
                    type: Identifier
                    name: patch
                    loc:
                      start:
                        line: 39
                        column: 57
                      end:
                        line: 39
                        column: 62
                  computed: false
                  loc:
                    start:
                      line: 39
                      column: 52
                    end:
                      line: 39
                      column: 62
                right:
                  type: IntegerLiteral
                  value: 0
                  raw: '0'
                  loc:
                    start:
                      line: 39
                      column: 66
                    end:
                      line: 39
                      column: 67
                loc:
                  start:
                    line: 39
                    column: 52
                  end:
                    line: 39
                    column: 67
              loc:
                start:
                  line: 39
                  column: 12
                end:
                  line: 39
                  column: 67
            then:
              type: ErrorExpression
              message: Given version is not valid
              loc:
                start:
                  line: 39
                  column: 69
                end:
                  line: 39
                  column: 104
            loc:
              start:
                line: 39
                column: 8
              end:
                line: 39
                column: 104
        loc:
          start:
            line: 38
            column: 4
          end:
            line: 40
            column: 5
      - type: PropertyDeclaration
        name: major
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 41
              column: 11
            end:
              line: 41
              column: 14
        loc:
          start:
            line: 41
            column: 4
          end:
            line: 41
            column: 14
      - type: PropertyDeclaration
        name: minor
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 42
              column: 11
            end:
              line: 42
              column: 14
        loc:
          start:
            line: 42
            column: 4
          end:
            line: 42
            column: 14
      - type: PropertyDeclaration
        name: patch
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: int
          loc:
            start:
              line: 43
              column: 11
            end:
              line: 43
              column: 14
        loc:
          start:
            line: 43
            column: 4
          end:
            line: 43
            column: 14
      - type: PropertyDeclaration
        name: hoge
        annotations: []
        isPrivate: true
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 44
              column: 18
            end:
              line: 44
              column: 24
        loc:
          start:
            line: 44
            column: 4
          end:
            line: 44
            column: 24
      - type: GetterDeclaration
        name: toString
        annotations: []
        body:
          - type: TemplateLiteral
            parts:
              - type: TemplateInterpolation
                identifier: major
                loc:
                  start:
                    line: 46
                    column: 9
                  end:
                    line: 46
                    column: 15
              - type: TemplateStringPart
                value: .
                loc:
                  start:
                    line: 46
                    column: 15
                  end:
                    line: 46
                    column: 16
              - type: TemplateInterpolation
                identifier: minor
                loc:
                  start:
                    line: 46
                    column: 16
                  end:
                    line: 46
                    column: 22
              - type: TemplateStringPart
                value: .
                loc:
                  start:
                    line: 46
                    column: 22
                  end:
                    line: 46
                    column: 23
              - type: TemplateInterpolation
                identifier: path
                loc:
                  start:
                    line: 46
                    column: 23
                  end:
                    line: 46
                    column: 28
            loc:
              start:
                line: 46
                column: 8
              end:
                line: 46
                column: 29
        loc:
          start:
            line: 45
            column: 4
          end:
            line: 47
            column: 5
    loc:
      start:
        line: 25
        column: 0
      end:
        line: 48
        column: 1
  - type: StructDeclaration
    name: Pipeline
    annotations: []
    body:
      - type: RepeatedDeclaration
        name: steps
        annotations: []
        typeRef:
          type: ArrayType
          elementType:
            type: TypeReference
            name: Step
            loc:
              start:
                line: 51
                column: 20
              end:
                line: 51
                column: 24
          dimensions: 1
          loc:
            start:
              line: 51
              column: 20
            end:
              line: 51
              column: 26
        mapping:
          type: MappingBlock
          entries:
            - type: MappingEntry
              from: build
              to: BuildStep
              loc:
                start:
                  line: 52
                  column: 8
                end:
                  line: 52
                  column: 26
            - type: MappingEntry
              from: test
              to: TestStep
              loc:
                start:
                  line: 53
                  column: 8
                end:
                  line: 53
                  column: 24
          loc:
            start:
              line: 51
              column: 27
            end:
              line: 54
              column: 5
        loc:
          start:
            line: 51
            column: 4
          end:
            line: 54
            column: 5
    loc:
      start:
        line: 50
        column: 0
      end:
        line: 55
        column: 1
  - type: UnionDeclaration
    name: Step
    annotations: []
    unionType:
      type: UnionType
      types:
        - type: TypeReference
          name: BuildStep
          loc:
            start:
              line: 56
              column: 13
            end:
              line: 56
              column: 22
        - type: TypeReference
          name: TestStep
          loc:
            start:
              line: 56
              column: 25
            end:
              line: 56
              column: 33
      loc:
        start:
          line: 56
          column: 13
        end:
          line: 56
          column: 33
    loc:
      start:
        line: 56
        column: 0
      end:
        line: 56
        column: 33
  - type: StructDeclaration
    name: BuildStep
    annotations: []
    body:
      - type: PropertyDeclaration
        name: command
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 58
              column: 13
            end:
              line: 58
              column: 19
        loc:
          start:
            line: 58
            column: 4
          end:
            line: 58
            column: 19
    loc:
      start:
        line: 57
        column: 0
      end:
        line: 59
        column: 1
  - type: StructDeclaration
    name: TestStep
    annotations: []
    body:
      - type: PropertyDeclaration
        name: script
        annotations: []
        isPrivate: false
        isOptional: false
        typeRef:
          type: PrimitiveType
          name: string
          loc:
            start:
              line: 61
              column: 12
            end:
              line: 61
              column: 18
        loc:
          start:
            line: 61
            column: 4
          end:
            line: 61
            column: 18
    loc:
      start:
        line: 60
        column: 0
      end:
        line: 62
        column: 1
loc:
  start:
    line: 7
    column: 0
  end:
    line: 63
    column: 5
